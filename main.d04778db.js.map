{"version":3,"sources":["scripts/main.js"],"names":["Cell","value","buttonStart","document","querySelector","messageStart","messageLose","messageWin","addEventListener","classList","contains","remove","add","innerHTML","score","start","keypress","action","key","moveRight","field","moveLeft","moveTop","moveDown","window","INITIAL_NUMBER_OF_CELLS","NUMBER_OF_CELLS_TO_ADD","i","length","j","addCells","rennder","getRandomNumber","Math","random","getRandomRowColumn","floor","getConcatField","gameField","result","concat","map","item","numberOfCells","copyNumberOfCells","randomNumber","randomRow","randomColumn","oldField","every","cell","k","wasChaanged","checkLose","newField","index","includes","check","push","some","getElementById"],"mappings":"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","file":"main.d04778db.js","sourceRoot":"../src","sourcesContent":["'use strict';\nclass Cell {\n  constructor() {\n    this.value = 0;\n  }\n}\n\nconst buttonStart = document.querySelector('.button');\nconst messageStart = document.querySelector('.message-start');\nconst messageLose = document.querySelector('.message-lose');\nconst messageWin = document.querySelector('.message-win');\n\nbuttonStart.addEventListener('click', () => {\n  if (buttonStart.classList.contains('start')) {\n    buttonStart.classList.remove('start');\n  }\n  buttonStart.classList.add('restart');\n  buttonStart.innerHTML = 'Restart';\n  messageStart.classList.add('hidden');\n  messageLose.classList.add('hidden');\n  messageWin.classList.add('hidden');\n\n  score = 0;\n  start();\n});\n\nconst keypress = (action) => {\n  if (action.key === 'ArrowRight') {\n    moveRight(field);\n  }\n\n  if (action.key === 'ArrowLeft') {\n    moveLeft(field);\n  }\n\n  if (action.key === 'ArrowUp') {\n    moveTop(field);\n  }\n\n  if (action.key === 'ArrowDown') {\n    moveDown(field);\n  }\n};\n\nwindow.addEventListener('keydown', keypress);\n\nconst INITIAL_NUMBER_OF_CELLS = 2;\nconst NUMBER_OF_CELLS_TO_ADD = 1;\nlet score = 0;\n\nconst field = [\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n];\n\n// функція старту (або рестарту)\nfunction start() {\n  for (let i = 0; i < field.length; i++) {\n    for (let j = 0; j < field[i].length; j++) {\n      field[i][j] = new Cell();\n    }\n  }\n\n  addCells(INITIAL_NUMBER_OF_CELLS);\n  rennder();\n}\n\n// функція генерує 2 або 4 з вірогідністю 90%\nfunction getRandomNumber() {\n  return (Math.random() <= 0.89) ? 2 : 4;\n}\n\n// функція генерує рандомне число від 0 до 3 для визначення колонки або рядка\nfunction getRandomRowColumn() {\n  return Math.floor(Math.random() * 4);\n}\n\n// функція створює масив значень для виконанння перевірки\n// порівняння масивів після виконання здвигу\nfunction getConcatField(gameField) {\n  let result = [];\n\n  for (let i = 0; i <= 3; i++) {\n    result = result.concat(gameField[i].map((item) => item.value));\n  }\n\n  return result;\n}\n\n// функція для додавання клітинок 2 або 4 в масив\nfunction addCells(numberOfCells) {\n  let copyNumberOfCells = numberOfCells;\n\n  for (let i = 0; i < copyNumberOfCells; i++) {\n    const randomNumber = getRandomNumber();\n    const randomRow = getRandomRowColumn();\n    const randomColumn = getRandomRowColumn();\n\n    if (field[randomRow][randomColumn].value !== 0) {\n      copyNumberOfCells++;\n      continue;\n    } else {\n      field[randomRow][randomColumn].value = randomNumber;\n    }\n  }\n}\n\n// функція зсуву вправо\nfunction moveRight(gameField) {\n  const oldField = getConcatField(field);\n\n  for (let i = 0; i < gameField.length; i++) {\n    if (gameField[i].every(cell => cell.value === 0)) {\n      continue;\n    }\n\n    for (let k = 0; k <= 4; k++) {\n      for (let j = gameField[i].length - 2; j >= 0; j--) {\n        if (gameField[i][j].value === 0) {\n          continue;\n        }\n\n        if (gameField[i][j + 1].value === 0) {\n          gameField[i][j + 1].value = gameField[i][j].value;\n          gameField[i][j].value = 0;\n          continue;\n        }\n\n        if (gameField[i][j + 1].value === gameField[i][j].value\n          && !gameField[i][j + 1].wasChaanged && !gameField[i][j].wasChaanged) {\n          gameField[i][j + 1].value = gameField[i][j].value\n          + gameField[i][j + 1].value;\n          gameField[i][j].value = 0;\n          gameField[i][j + 1].wasChaanged = 'yes';\n          score += gameField[i][j + 1].value;\n        }\n      }\n    }\n  }\n\n  checkLose();\n\n  const newField = getConcatField(field);\n\n  if (newField.every((item, index) => item === oldField[index])) {\n    return;\n  }\n\n  if (newField.includes(0)) {\n    addCells(NUMBER_OF_CELLS_TO_ADD);\n  } else {\n    return;\n  }\n\n  for (let i = 0; i < gameField.length; i++) {\n    for (let j = 0; j < gameField[i].length; j++) {\n      delete gameField[i][j].wasChaanged;\n    }\n  }\n  rennder();\n}\n\n// функція зсуву вліво\nfunction moveLeft(gameField) {\n  const oldField = getConcatField(field);\n\n  for (let i = 0; i < gameField.length; i++) {\n    if (gameField[i].every(cell => cell.value === 0)) {\n      continue;\n    }\n\n    for (let k = 0; k <= 4; k++) {\n      for (let j = 1; j < gameField[i].length; j++) {\n        if (gameField[i][j].value === 0) {\n          continue;\n        }\n\n        if (gameField[i][j - 1].value === 0) {\n          gameField[i][j - 1].value = gameField[i][j].value;\n          gameField[i][j].value = 0;\n          continue;\n        }\n\n        if (gameField[i][j - 1].value === gameField[i][j].value\n            && !gameField[i][j - 1].wasChaanged\n            && !gameField[i][j].wasChaanged) {\n          gameField[i][j - 1].value = gameField[i][j].value\n          + gameField[i][j - 1].value;\n          gameField[i][j].value = 0;\n          gameField[i][j - 1].wasChaanged = 'yes';\n          score += gameField[i][j - 1].value;\n        }\n      }\n    }\n  }\n\n  checkLose();\n\n  const newField = getConcatField(field);\n\n  if (newField.every((item, index) => item === oldField[index])) {\n    return;\n  }\n\n  if (newField.includes(0)) {\n    addCells(NUMBER_OF_CELLS_TO_ADD);\n  } else {\n    return;\n  }\n\n  for (let i = 0; i < gameField.length; i++) {\n    for (let j = 0; j < gameField[i].length; j++) {\n      delete gameField[i][j].wasChaanged;\n    }\n  }\n  rennder();\n}\n\n// функція зсуву вгору\nfunction moveTop(gameField) {\n  const oldField = getConcatField(field);\n\n  for (let k = 0; k <= 4; k++) {\n    for (let i = 1; i < gameField.length; i++) {\n      for (let j = 0; j < gameField[i].length; j++) {\n        if (gameField[i][j].value === 0) {\n          continue;\n        }\n\n        if (gameField[i - 1][j].value === 0) {\n          gameField[i - 1][j].value = gameField[i][j].value;\n          gameField[i][j].value = 0;\n          continue;\n        }\n\n        if (gameField[i - 1][j].value === gameField[i][j].value\n          && !gameField[i - 1][j].wasChaanged && !gameField[i][j].wasChaanged) {\n          gameField[i - 1][j].value = gameField[i][j].value\n          + gameField[i - 1][j].value;\n          gameField[i][j].value = 0;\n          gameField[i - 1][j].wasChaanged = 'yes';\n          score += gameField[i - 1][j].value;\n        }\n      }\n    }\n  }\n\n  checkLose();\n\n  const newField = getConcatField(field);\n\n  if (newField.every((item, index) => item === oldField[index])) {\n    return;\n  }\n\n  if (newField.includes(0)) {\n    addCells(NUMBER_OF_CELLS_TO_ADD);\n  } else {\n    return;\n  }\n\n  for (let i = 0; i < gameField.length; i++) {\n    for (let j = 0; j < gameField[i].length; j++) {\n      delete gameField[i][j].wasChaanged;\n    }\n  }\n  rennder();\n}\n\n// функція зсуву вниз\nfunction moveDown(gameField) {\n  const oldField = getConcatField(field);\n\n  for (let k = 0; k <= 4; k++) {\n    for (let i = gameField.length - 2; i >= 0; i--) {\n      for (let j = 0; j < gameField[i].length; j++) {\n        if (gameField[i][j].value === 0) {\n          continue;\n        }\n\n        if (gameField[i + 1][j].value === 0) {\n          gameField[i + 1][j].value = gameField[i][j].value;\n          gameField[i][j].value = 0;\n          continue;\n        }\n\n        if (gameField[i + 1][j].value === gameField[i][j].value\n          && !gameField[i + 1][j].wasChaanged && !gameField[i][j].wasChaanged) {\n          gameField[i + 1][j].value = gameField[i][j].value\n          + gameField[i + 1][j].value;\n          gameField[i][j].value = 0;\n          gameField[i + 1][j].wasChaanged = 'yes';\n          score += gameField[i + 1][j].value;\n        }\n      }\n    }\n  }\n\n  checkLose();\n\n  const newField = getConcatField(field);\n\n  if (newField.every((item, index) => item === oldField[index])) {\n    return;\n  }\n\n  if (newField.includes(0)) {\n    addCells(NUMBER_OF_CELLS_TO_ADD);\n  } else {\n    return;\n  }\n\n  for (let i = 0; i < gameField.length; i++) {\n    for (let j = 0; j < gameField[i].length; j++) {\n      delete gameField[i][j].wasChaanged;\n    }\n  }\n  rennder();\n}\n\nfunction checkLose() {\n  const check = [];\n\n  for (let i = 0; i < field.length; i++) {\n    for (let j = 1; j < field[i].length - 1; j++) {\n      if (field[i][j].value === field[i][j - 1].value\n        || field[i][j].value === field[i][j + 1].value\n        || field[i][j - 1].value === 0\n        || field[i][j + 1].value === 0\n        || field[i][j].value === 0) {\n        check.push(true);\n      }\n    }\n  }\n\n  for (let i = 1; i < field.length - 1; i++) {\n    for (let j = 0; j < field[i].length; j++) {\n      if (field[i][j].value === field[i - 1][j].value\n        || field[i][j].value === field[i + 1][j].value\n        || field[i - 1][j].value === 0\n        || field[i + 1][j].value === 0\n        || field[i][j].value === 0) {\n        check.push(true);\n      }\n    }\n  }\n\n  const checkWin = getConcatField(field);\n\n  if (checkWin.some(item => item === 2048)) {\n    messageWin.classList.remove('hidden');\n  }\n\n  if (check.length === 0) {\n    messageLose.classList.remove('hidden');\n  }\n}\n\nfunction rennder() {\n  for (let i = 0; i < field.length; i++) {\n    for (let j = 0; j < field[i].length; j++) {\n      const cell = document.getElementById(`${i}_${j}`);\n\n      cell.classList = '';\n      cell.classList.add('field-cell');\n\n      if (field[i][j].value === 0) {\n        cell.innerHTML = '';\n      } else {\n        cell.innerHTML = field[i][j].value;\n\n        cell.classList.add(`field-cell--${field[i][j].value}`);\n      }\n    }\n  }\n\n  const gameScore = document.querySelector('.game-score');\n\n  gameScore.innerHTML = score;\n}\n"]}